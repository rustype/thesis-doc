\begin{figure}
    \begin{align*}
        \mathbf{Login}   & := \{user: \keyword{String},~password: \keyword{String}\}                                                                                                                                                                                                                                                                                                                                                                                                                                 \\
        \mathbf{Message} & := \{user: \keyword{String},~message: \keyword{String}\}                                                                                                                                                                                                                                                                                                                                                                                                                                  \\
        \mathbf{Status}  & := \{user: \keyword{String}\}                                                                                                                                                                                                                                                                                                                                                                                                                                                             \\
        \mathbf{SReply}  & := \{status: \keyword{String}\}                                                                                                                                                                                                                                                                                                                                                                                                                                                           \\
        Server           & = ~\textcolor{violet}{?}\mathbf{Login}\textcolor{violet}{.}\textcolor{violet}{\oplus}\langle \textcolor{violet}{!}Ok\textcolor{violet}{.}\textcolor{violet}{?}\mathbf{Message}\textcolor{violet}{.}\textcolor{violet}{\oplus}\langle Ok\textcolor{violet}{.}End, Err\textcolor{violet}{.}End \rangle, \textcolor{violet}{!}Err\textcolor{violet}{.}End\rangle                                                                                                                             \\
        Client           & = ~\textcolor{violet}{!}\mathbf{Login}\textcolor{violet}{.}\textcolor{violet}{\&}\langle \textcolor{violet}{?}Ok\textcolor{violet}{.}\textcolor{violet}{\&}\langle \textcolor{violet}{?}\mathbf{Status}\textcolor{violet}{.}\textcolor{violet}{!}\mathbf{SReply}, \textcolor{violet}{!}\mathbf{Message}\textcolor{violet}{.}\textcolor{violet}{\&}\langle Ok\textcolor{violet}{.}End, Err\textcolor{violet}{.}End \rangle\rangle, \textcolor{violet}{?}Err\textcolor{violet}{.}End\rangle
    \end{align*}
    \caption{Session type example, equivalent to \autoref{lst:rust-login-chan}.}
    \label{eq:session-types}
\end{figure}